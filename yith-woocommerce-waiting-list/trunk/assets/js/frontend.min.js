jQuery(document).ready(function(i){"use strict";var c=function(t,n,e){t=encodeURI(t),n=encodeURI(n);for(var c,e=e.parents("#yith-wcwtl-output").find("a.button, form"),i=void 0!==e.attr("action")?"action":"href",o=e.attr(i).split("&"),a=o.length;a--;)if((c=o[a].split("="))[0]==t){c[1]=n,o[a]=c.join("=");break}a<0&&(o[o.length]=[t,n].join("=")),e.prop(i,o.join("&"))},n=function(t,n){i(document).trigger("yith-wcwtl-submit");var e=[{name:"action",value:"yith_wcwtl_submit"},{name:"context",value:"frontend"}],c=n.closest("#yith-wcwtl-output"),e=function(t,n){for(var e,c=t.split("?")[1].split("&"),i=0;i<c.length;i++)e=c[i].split("="),n.push({name:e[0],value:e[1]});return n}(t,e);c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),o().then(function(t){i.ajax({url:woocommerce_params.ajax_url,data:i.param(e),method:"POST",dataType:"json",error:function(t){},success:function(t){i(document).find(".yith-wcwtl-ajax-message").remove(),"error"===t.type?(c.replaceWith(t.form),i(document).find(".yith-wcwtl-notices").append(t.msg),i(document).find("#yith-wcwtl-email").trigger("input")):(i(document).find("#yith-wcwtl-output").addClass("success"),i(document).find("#yith-wcwtl-output").empty().html(t.msg)),i(document).find("#yith-wcwtl-output").unblock(),i(document).trigger("yith-wcwtl-submit-success")}})})["catch"](function(t){console.log(t)})};const e="yes"===ywcwtl.ajax;i(document).on("click","#yith-wcwtl-output a.yith-wcwtl-submit",function(t){t.preventDefault(),e?n(i(this).attr("href"),i(this)):o().then(function(){window.location.href=i(".yith-wcwtl-submit").attr("href")})}),i(document).on("submit","#yith-wcwtl-output form",function(t){t.preventDefault(),n(i(this).attr("action"),i(this))}),i(document).on("input","#yith-wcwtl-email",function(){var t=i(this),n=t.val(),e=t.attr("name");c(e,n,t)}),i(document).on("change","#yith-wcwtl-policy-check",function(){var t=i(this),n=t.attr("name"),e=t.is(":checked")?"yes":"no";c(n,e,t)});var o=function(){return ywcwtl.recaptcha_site_key!==undefined&&ywcwtl.recaptcha_site_key?ywtwlIsCaptchaValid():new Promise(function(t,n){t(!0)})}});